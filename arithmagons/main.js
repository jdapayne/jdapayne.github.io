!function(t){var e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){var s;
/**
 * @license Fraction.js v4.0.9 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 * @license Fraction.js v4.0.9 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(n){"use strict";var i=2e3,o={s:1,n:0,d:1};function r(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function n(){}return n.prototype=Error.prototype,e.prototype=new n,e}var a=f.DivisionByZero=r("DivisionByZero"),h=f.InvalidParameter=r("InvalidParameter");function l(t,e){return isNaN(t=parseInt(t,10))&&c(),t*e}function c(){throw new h}var d=function(t,e){var n,s=0,i=1,r=1,h=0,d=0,u=0,f=1,m=1,w=0,g=1,p=1,v=1,y=1e7;if(void 0===t||null===t);else if(void 0!==e)r=(s=t)*(i=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(s=t.n,i=t.d,"s"in t&&(s*=t.s)):0 in t?(s=t[0],1 in t&&(i=t[1])):c(),r=s*i;break;case"number":if(t<0&&(r=t,t=-t),t%1==0)s=t;else if(t>0){for(t>=1&&(t/=m=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));g<=y&&v<=y;){if(t===(n=(w+p)/(g+v))){g+v<=y?(s=w+p,i=g+v):v>g?(s=p,i=v):(s=w,i=g);break}t>n?(w+=p,g+=v):(p+=w,v+=g),g>y?(s=p,i=v):(s=w,i=g)}s*=m}else(isNaN(t)||isNaN(e))&&(i=s=NaN);break;case"string":if(null===(g=t.match(/\d+|./g))&&c(),"-"===g[w]?(r=-1,w++):"+"===g[w]&&w++,g.length===w+1?d=l(g[w++],r):"."===g[w+1]||"."===g[w]?("."!==g[w]&&(h=l(g[w++],r)),(++w+1===g.length||"("===g[w+1]&&")"===g[w+3]||"'"===g[w+1]&&"'"===g[w+3])&&(d=l(g[w],r),f=Math.pow(10,g[w].length),w++),("("===g[w]&&")"===g[w+2]||"'"===g[w]&&"'"===g[w+2])&&(u=l(g[w+1],r),m=Math.pow(10,g[w+1].length)-1,w+=3)):"/"===g[w+1]||":"===g[w+1]?(d=l(g[w],r),f=l(g[w+2],1),w+=3):"/"===g[w+3]&&" "===g[w+1]&&(h=l(g[w],r),d=l(g[w+2],r),f=l(g[w+4],1),w+=5),g.length<=w){r=s=u+(i=f*m)*h+m*d;break}default:c()}if(0===i)throw new a;o.s=r<0?-1:1,o.n=Math.abs(s),o.d=Math.abs(i)};function u(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function f(t,e){if(!(this instanceof f))return new f(t,e);d(t,e),t=f.REDUCE?u(o.d,o.n):1,this.s=o.s,this.n=o.n/t,this.d=o.d/t}f.REDUCE=1,f.prototype={s:1,n:0,d:1,abs:function(){return new f(this.n,this.d)},neg:function(){return new f(-this.s*this.n,this.d)},add:function(t,e){return d(t,e),new f(this.s*this.n*o.d+o.s*this.d*o.n,this.d*o.d)},sub:function(t,e){return d(t,e),new f(this.s*this.n*o.d-o.s*this.d*o.n,this.d*o.d)},mul:function(t,e){return d(t,e),new f(this.s*o.s*this.n*o.n,this.d*o.d)},div:function(t,e){return d(t,e),new f(this.s*o.s*this.n*o.d,this.d*o.n)},clone:function(){return new f(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new f(NaN):void 0===t?new f(this.s*this.n%this.d,1):(d(t,e),0===o.n&&0===this.d&&f(0,0),new f(this.s*(o.d*this.n)%(o.n*this.d),o.d*this.d))},gcd:function(t,e){return d(t,e),new f(u(o.n,this.n)*u(o.d,this.d),o.d*this.d)},lcm:function(t,e){return d(t,e),0===o.n&&0===this.n?new f:new f(o.n*this.n,u(o.n,this.n)*u(o.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):new f(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new f(this.s*this.d,this.n)},pow:function(t){return t<0?new f(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new f(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return d(t,e),this.s*this.n*o.d==o.s*o.n*this.d},compare:function(t,e){d(t,e);var n=this.s*this.n*o.d-o.s*o.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function n(t){return 1===t.length?new f(t[0]):n(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var s=0;s<e.length;s++){var i=n(e.slice(0,s+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return d(t,e),!(!(o.n*this.d)||this.n*o.d%(o.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",s=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=s:(t&&(e=Math.floor(s/i))>0&&(n+=e,n+=" ",s%=i),n+=s,n+="/",n+=i),n},toLatex:function(t){var e,n="",s=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=s:(t&&(e=Math.floor(s/i))>0&&(n+=e,s%=i),n+="\\frac{",n+=s,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,s=[];if(isNaN(this.n)||isNaN(this.d))return s;do{s.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return s},toString:function(t){var e,n=this.n,s=this.d;if(isNaN(n)||isNaN(s))return"NaN";f.REDUCE||(n/=e=u(n,s),s/=e),t=t||15;var o=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,s=1;1!==n;s++)if(n=10*n%e,s>i)return 0;return s}(0,s),r=function(t,e,n){for(var s=1,i=function(t,e,n){for(var s=1;e>0;t=t*t%n,e>>=1)1&e&&(s=s*t%n);return s}(10,n,e),o=0;o<300;o++){if(s===i)return o;s=10*s%e,i=10*i%e}return 0}(0,s,o),a=-1===this.s?"-":"";if(a+=n/s|0,n%=s,(n*=10)&&(a+="."),o){for(var h=r;h--;)a+=n/s|0,n%=s,n*=10;a+="(";for(h=o;h--;)a+=n/s|0,n%=s,n*=10;a+=")"}else for(h=t;n&&h--;)a+=n/s|0,n%=s,n*=10;return a}},void 0===(s=function(){return f}.apply(e,[]))||(t.exports=s)}()},function(t,e,n){"use strict";function s(t,e,n){return n||(n=Math.random),t+Math.floor(n()*(e-t+1))}function i(t,e,n){let i=[];for(let s=t;s<e+1;s++)n(s)&&i.push(s);if(i===[])throw new Error("overfiltered");return i[s(0,i.length-1)]}function o(t,e){if(0===[...t].length)throw"empty array";e||(e=Math.random);let n=s(0,(t.length||t.size)-1,e);return[...t][n]}function r(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function a(t,e,n){for(var s=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0,o=s.length-1;i<o;++i){var r=s[i];if(!(r in t))return;t=t[r]}if(void 0===n)return t[s[o]];t[s[o]]=n}n.r(e);var h=n(0),l=n.n(h);class c{constructor(t,e){this.x=t,this.y=e}rotate(t){var e,n;return e=Math.cos(t)*this.x-Math.sin(t)*this.y,n=Math.sin(t)*this.x+Math.cos(t)*this.y,this.x=e,this.y=n,this}scale(t){return this.x=this.x*t,this.y=this.y*t,this}translate(t,e){return this.x+=t,this.y+=e,this}clone(){return new c(this.x,this.y)}equals(t){return this.x===t.x&&this.y===t.y}moveToward(t,e){const n=c.unitVector(this,t);return this.translate(n.x*e,n.y*e),this}static fromPolar(t,e){return new c(Math.cos(e)*t,Math.sin(e)*t)}static fromPolarDeg(t,e){return e=e*Math.PI/180,c.fromPolar(t,e)}static mean(...t){let e=t.map(t=>t.x).reduce((t,e)=>t+e),n=t.map(t=>t.y).reduce((t,e)=>t+e),s=t.length;return new c(e/s,n/s)}static min(t){let e=t.reduce((t,e)=>Math.min(t,e.x),1/0),n=t.reduce((t,e)=>Math.min(t,e.y),1/0);return new c(e,n)}static max(t){let e=t.reduce((t,e)=>Math.max(t,e.x),-1/0),n=t.reduce((t,e)=>Math.max(t,e.y),-1/0);return new c(e,n)}static center(t){const e=t.reduce((t,e)=>Math.min(t,e.x),1/0),n=t.reduce((t,e)=>Math.min(t,e.y),1/0),s=t.reduce((t,e)=>Math.max(t,e.x),-1/0),i=t.reduce((t,e)=>Math.max(t,e.y),-1/0);return new c((s+e)/2,(i+n)/2)}static unitVector(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.hypot(n,s);return{x:n/i,y:s/i}}static distance(t,e){return Math.hypot(t.x-e.x,t.y-e.y)}static repel(t,e,n,s){const i=Math.hypot(t.x-e.x,t.y-e.y);if(i>=n)return!1;const o=(s-i)/2;return t.moveToward(e,-o),e.moveToward(t,-o),!0}}class d{constructor(t,e,n,s){this.question=t,this.width=e,this.height=n,this.answered=!1,this.rotation=s,this.success=!0,this.labels=[]}get allpoints(){return[]}showAnswer(){if(!this.answered)return this.labels.forEach(t=>{t.text=t.texta,t.style=t.stylea}),this.answered=!0}hideAnswer(){if(this.answered)return this.labels.forEach(t=>{t.text=t.textq,t.style=t.styleq}),this.answered=!1}toggleAnswer(){return this.answered?this.hideAnswer():this.showAnswer()}scale(t){this.allpoints.forEach(function(e){e.scale(t)})}rotate(t){return this.allpoints.forEach(function(e){e.rotate(t)}),t}translate(t,e){this.allpoints.forEach(function(n){n.translate(t,e)})}randomRotate(){var t=2*Math.PI*Math.random();return this.rotate(t),t}scaleToFit(t,e,n){let s=c.min(this.allpoints),i=c.max(this.allpoints),o=i.x-s.x,r=i.y-s.y;this.scale(Math.min((t-n)/o,(e-n)/r)),s=c.min(this.allpoints),i=c.max(this.allpoints);const a=c.mean([s,i]);this.translate(t/2-a.x,e/2-a.y)}drawLabelsCanvas(t){const e=t.getContext("2d");this.labels.forEach(function(t){e.font=d.styles.get(t.style).font,e.fillStyle=d.styles.get(t.style).colour,e.textAlign=d.styles.get(t.style).align,e.textBaseline=d.styles.get(t.style).baseline,e.fillText(t.text,t.pos.x,t.pos.y)})}drawLabelsHtml(t){const e=t.parentNode;this.labels.forEach(function(t){const n=document.createElement("div"),s=document.createElement("div");n.classList.add("label"),n.classList+=" "+t.style,n.style.left=t.pos.x+"px",n.style.top=t.pos.y+"px",katex.render(t.text,s),n.appendChild(s),e.appendChild(n)})}}d.styles=new Map([["normal",{font:"16px Arial",colour:"Black",align:"center",baseline:"middle"}],["answer",{font:"16px Arial",colour:"Red",align:"center",baseline:"middle"}],["extra-answer",{font:"16px Arial",colour:"Red",align:"left",baseline:"bottom"}],["extra-info",{font:"16px Arial",colour:"Black",align:"left",baseline:"bottom"}]]);class u extends d{constructor(t,e,n,s){super(t,e,n,s);const i=.35*Math.min(e,n),o=this.question.n;this.O=new c(0,0),this.vertices=[];for(let t=0;t<o;t++){const e=t*Math.PI*2/o-Math.PI/2;this.vertices[t]=c.fromPolar(i,e)}this.sides=[];for(let t=0;t<o;t++)this.sides[t]=c.mean(this.vertices[t],this.vertices[(t+1)%o]);const r=c.min(this.allpoints),a=c.max(this.allpoints),h=c.mean(r,a);this.translate(e/2-h.x,n/2-h.y),this.labels=[],this.question.vertices.forEach((t,e)=>{const n=t.val.toLatex?t.val.toLatex(!0):t.val.toString();this.labels.push({pos:this.vertices[e],textq:t.hidden?"":n,texta:n,styleq:"normal vertex",stylea:t.hidden?"answer vertex":"normal vertex"})}),this.question.sides.forEach((t,e)=>{const n=t.val.toLatex?t.val.toLatex(!0):t.val.toString();this.labels.push({pos:this.sides[e],textq:t.hidden?"":n,texta:n,styleq:"normal side",stylea:t.hidden?"answer side":"normal side"})}),this.labels.push({pos:this.O,textq:this.question.opname,texta:this.question.opname,styleq:"normal",stylea:"normal"}),this.labels.forEach(t=>{t.text=t.textq,t.style=t.styleq})}get allpoints(){return[this.O].concat(this.vertices).concat(this.sides)}drawIn(t){const e=t.getContext("2d"),n=this.question.n;e.clearRect(0,0,t.width,t.height);const s=t.parentNode.getElementsByClassName("label");for(;s.length>0;)s[0].remove();e.beginPath();for(let t=0;t<n;t++){const s=this.vertices[t],i=this.vertices[(t+1)%n];e.moveTo(s.x,s.y),e.lineTo(i.x,i.y)}e.stroke(),e.closePath(),this.drawLabelsHtml(t)}}function f(){}n.d(e,"default",function(){return f}),window.addEventListener("DOMContentLoaded",function(){f.init()}),f.init=function(){f.settings.toPage(),document.getElementById("generate").addEventListener("click",function(t){t.preventDefault(),f.generateAll()}),document.getElementById("print").addEventListener("click",function(t){window.print(),t.preventDefault()}),document.getElementById("showoptions").addEventListener("click",f.toggleOptions),document.getElementById("display-box").addEventListener("click",function(t){let e=t.target;if(e.classList.contains("refresh")){let t=e.closest(".question-container").dataset.question_index;f.hideAnswer(t),f.generate(t)}else if(e.classList.contains("answer-toggle")){let t=e.closest(".question-container").dataset.question_index;f.toggleAnswer(t,e)}}),document.getElementById("show-answers").addEventListener("click",f.toggleAllAnswers),document.addEventListener("change",function(t){f.settings.fromPage(),"options-type"===t.target.name&&f.toggleHidden(["options-advanced","options-simple"])}),document.getElementById("zoom").addEventListener("click",function(t){const e=t.target;"zoomin"===e.id?f.zoom(1):"zoomout"==e.id&&f.zoom(-1)}),document.body.addEventListener("click",function(t){const e=t.target;e.dataset.modal&&(f.modalOpen(e.dataset.modal),t.preventDefault())}),document.getElementById("modal-overlay").addEventListener("click",function(t){t.target.closest(".modal")||f.modalClose()})},f.toggleOptions=function(t){let e=document.getElementById("showoptions"),n=document.getElementById("options").classList.toggle("hidden");e.innerHTML=n?"Show options":"Hide options",t&&t.preventDefault()},f.toggleAnswer=function(t){let e=f.questions[t].viewobject.toggleAnswer();f.draw(t);let n=f.questions[t].container;n.classList.toggle("answer");let s=n.querySelector(".answer-toggle");s.innerHTML=e?"Hide answer":"Show answer"},f.showAnswer=function(t){f.questions[t].viewobject.showAnswer(),f.draw(t);let e=f.questions[t].container;e.classList.add("answer"),e.querySelector(".answer-toggle").innerHTML="Hide answer"},f.hideAnswer=function(t){f.questions[t].viewobject.hideAnswer(),f.draw(t);let e=f.questions[t].container;e.classList.remove("answer"),e.querySelector(".answer-toggle").innerHTML="Show answer"},f.hideAllAnswers=function(){f.questions.forEach(function(t,e){f.hideAnswer(e)}),document.getElementById("show-answers").innerHTML="Show answers",f.answered=!1},f.showAllAnswers=function(){f.questions.forEach(function(t,e){f.showAnswer(e)}),document.getElementById("show-answers").innerHTML="Hide answers",f.answered=!0},f.toggleAllAnswers=function(t){f.answered?f.hideAllAnswers():f.showAllAnswers(),t&&t.preventDefault()},f.answered=!1,f.clear=function(){document.getElementById("display-box").innerHTML="",f.questions=[],document.getElementById("show-answers").removeAttribute("disabled"),f.hideAllAnswers()},f.draw=function(t){const e=f.questions[t].viewobject,n=f.questions[t].container.querySelector("canvas");e.drawIn(n)},f.reDraw=function(t){const e="number"==typeof t?f.questions[t]:t,n=e.container.querySelector("canvas");n.width=f.settings.canvas_width,n.height=f.settings.canvas_height;const s=e.viewobject.question,i=new u(s,f.settings.canvas_width,f.settings.canvas_height);e.viewobject=i,i.drawIn(n)},f.drawAll=function(){f.questions.forEach(function(t){const e=t.viewobject,n=t.container.querySelector("canvas");e.drawIn(n)})},f.generate=function(t){const e=f.settings.n_questions,n=f.settings.mindiff,a=f.settings.maxdiff,h=n+Math.floor(t*(a-n+1)/e),c=new class{constructor(t){const e=Object.assign({},{min:0,max:20,op:"add",n:3,num_diff:1,puz_diff:1,type:"integer"},t);switch(this.n=e.n,this.vertices=[],this.sides=[],"add"===e.op?(this.opname="+",this.op=((t,e)=>t.add(e))):"multiply"===e.op&&(this.opname="Ã—",this.op=((t,e)=>t.mul(e))),e.type){case"integer":this.initInteger(e);break;case"fraction":this.initFraction(e);break;default:throw new Error("Unexpected switch default")}for(let t=0;t<this.n;t++)this.sides[t]={val:this.op(this.vertices[t].val,this.vertices[(t+1)%this.n].val),hidden:!1};switch(e.puz_diff){case 1:this.sides.forEach(t=>{t.hidden=!0});break;case 2:{this.sides.forEach(t=>{t.hidden=!0});const t=s(0,this.n-1,Math.random),e=Math.random()<.5?t:(t+1)%this.n;this.sides[t].hidden=!1,this.vertices[e].hidden=!0;break}case 3:this.vertices.forEach(t=>{t.hidden=!0});break;default:throw new Error("no_difficulty")}}initInteger(t){for(let e=0;e<this.n;e++)this.vertices[e]={val:new l.a(i(t.min,t.max,e=>"add"===t.op||0!==e)),hidden:!1}}initFraction(t){if("add"===t.op)this.initFractionAdd(t);else{if("multiply"!==t.op)throw new Error("Unknown operation");this.initFractionMultiply(t)}}initFractionAdd(t){const e=t.num_diff;if(e<3){const t=o([5,7,9,11,13,17]);for(let n=0;n<this.n;n++){const s=this.vertices[n-1]?this.vertices[n-1].val.n:void 0,o=this.vertices[(n+1)%this.n]?this.vertices[(n+1)%this.n].val.n:void 0,a=i(1,2===e?t-1:o?t-Math.max(o,s):s?t-s:t-1,e=>!(1!==r(e,t)||s&&1!==r(e+s,t)&&e+s!==t||o&&1!==r(e+o,t)&&e+o!==t));this.vertices[n]={val:new l.a(a,t),hidden:!1}}}else{const t=o(e<7?[2,3,5]:[2,3,4,5,6,7,8,9,10,11]);for(let n=0;n<this.n;n++){const s=this.vertices[n-1]?this.vertices[n-1].val:void 0,o=this.vertices[(n+1)%this.n]?this.vertices[(n+1)%this.n].val:void 0,a=n%2==1||e>4?i(2,e<7?4:8,e=>!(s&&e===s.d/t||o&&e===o.d/t)):1,h=t*a;let c;c=e<6?i(1,h-1,t=>1===r(t,h)&&(e>=4||!s||s.add(t,h)<=1)&&(e>=4||!o||o.add(t,h)<=1)):e<8?i(h+1,6*h,t=>1===r(t,h)):i(10*h,100*h,t=>1===r(t,h)),this.vertices[n]={val:new l.a(c,h),hidden:!1}}}}initFractionMultiply(t){for(let t=0;t<this.n;t++){const e=s(2,10),n=s(1,e-1);this.vertices[t]={val:new l.a(n,e),hidden:!1}}}}(Object.assign({},f.settings.options,{num_diff:h})),d=new u(c,f.settings.canvas_width,f.settings.canvas_height);f.questions[t]=Object.assign({},f.questions[t],{viewobject:d,type:c.type,subtype:c.subtype}),f.draw(t)},f.generateAll=function(){f.clear();let t=f.settings.n_questions;for(let e=0;e<t;e++){let t=document.createElement("div");t.className="question-container",t.dataset.question_index=e;let n=document.createElement("canvas");n.width=f.settings.canvas_width,n.height=f.settings.canvas_height,n.className="question-view",t.append(n);let s=document.createElement("img");s.src="refresh.png",s.className="refresh",s.width=15,s.height=15,t.append(s);let i=document.createElement("div");i.innerHTML="Show answer",i.className="answer-toggle",t.append(i),document.getElementById("display-box").append(t),f.questions[e]=Object.assign({},f.questions[e],{container:t}),f.generate(e)}},f.zoom=function(t){f.settings.zoom+=.1*t,f.settings.canvas_width=f.settings.canvas_width_base*f.settings.zoom,f.settings.canvas_height=f.settings.canvas_height_base*f.settings.zoom,f.questions.forEach(function(t){f.reDraw(t)})},f.questions=[],f.settings={canvas_width_base:250,canvas_height_base:250,canvas_width:250,canvas_height:250,zoom:1,mindiff:1,maxdiff:5,options:{min:-20,max:20,n:3,num_diff:2,puz_diff:1,op:"add",type:"integer"},n_questions:8,debug:!0},f.settings.fromPage=function(){const t=document.getElementsByClassName("option");for(let e=0,n=t.length;e<n;++e){const n=t[e],s=isNaN(n.value)?n.value:Number(n.value);let i=n.dataset.setting;i.endsWith("[]")?(a(this,i=i.slice(0,-2))||a(this,i,new Set),n.checked?a(this,i).add(s):a(this,i).delete(s)):"checkbox"===n.type?a(this,i,!!n.checked):(n.checked||"radio"!==n.type&&"checkbox"!==n.type)&&a(this,i,s)}},f.settings.toPage=function(){const t=document.getElementsByClassName("option");for(let e=0,n=t.length;e<n;++e){const n=t[e],s=n.value;let i=n.dataset.setting;i.endsWith("[]")?a(this,i=i.slice(0,-2)).has(s)?n.checked=!0:n.checked=!1:"radio"===n.type?a(this,i)===s&&(n.checked=!0):"checkbox"===n.type?n.checked=!!a(this,i):n.value=a(this,i)}},f.modalOpen=function(t){const e=document.getElementById(t)||document.getElementById("default-modal");if(e.classList.contains("modal")){const t=document.getElementById("modal-overlay");t.appendChild(e),t.classList.remove("hidden")}},f.modalClose=function(){const t=document.getElementById("modal-overlay"),e=t.getElementsByClassName("modal");for(;e.length>0;)document.body.appendChild(e[0]);t.classList.add("hidden")},f.toggleHidden=function(t){for(let e=0;e<t.length;e++)document.getElementById(t[e]).classList.toggle("hidden")}}]);